<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Dashboard Monitoring Kitchen</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>
  <body class="bg-light">
    <div class="container mt-5">
      <h1 class="text-center mb-4">üì° Dashboard Monitoring Kitchen</h1>

      <!-- Area Cuci -->
      <h3>üßº Area Cuci</h3>
      <div class="row mb-4">
        <div class="col-md-4">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Jarak Objek</h5>
              <div id="cuci-distance1" class="status-box text-secondary">
                -- cm
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Jarak Orang</h5>
              <div id="cuci-distance2" class="status-box text-secondary">
                -- cm
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Status Valve</h5>
              <div id="cuci-valve" class="status-box text-primary">--</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Area In/Out -->
      <h3>üö™ Area In/Out</h3>
      <div class="row mb-4">
        <div class="col-md-4">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Jumlah Orang</h5>
              <div id="inout-count" class="status-box text-secondary">--</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Status Lampu</h5>
              <div id="inout-lamp" class="status-box text-primary">--</div>
            </div>
          </div>
        </div>
        <div class="col-md-4 d-flex align-items-center justify-content-center">
          <button class="btn btn-warning me-2" onclick="resetInOut()">
            üîÅ Reset Area In/Out
          </button>
        </div>
      </div>

      <!-- Area Masak -->
      <h3>üç≥ Area Memasak</h3>
      <div class="row mb-4">
        <div class="col-md-3">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Fan</h5>
              <div id="fanStatus" class="status-box text-secondary">--</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Buzzer</h5>
              <div id="buzzerStatus" class="status-box text-secondary">--</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Aktivitas</h5>
              <div id="activityStatus" class="status-box text-secondary">
                --
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card shadow text-center">
            <div class="card-body">
              <h5>Timer</h5>
              <div id="timerStatus" class="status-box text-secondary">--</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Koneksi -->
      <h3>üîå Status Koneksi</h3>
      <div class="card shadow text-center mb-4">
        <div class="card-body">
          <p>
            Backend: <span id="backend-status" class="conn-status">...</span>
          </p>
          <p>Fuseki: <span id="fuseki-status" class="conn-status">...</span></p>
          <p>
            IoT Cuci: <span id="cuci-iot-status" class="conn-status">...</span>
          </p>
          <p>
            IoT In/Out:
            <span id="inout-iot-status" class="conn-status">...</span>
          </p>
          <p>
            IoT Cook: <span id="cook-iot-status" class="conn-status">...</span>
          </p>
        </div>
      </div>

      <!-- Ekspor & Email -->
      <div class="d-flex gap-2 justify-content-center mb-5">
        <button class="btn btn-outline-success" onclick="exportLog()">
          üì§ Export Log (CSV)
        </button>
        <button class="btn btn-outline-primary" onclick="sendLogEmail()">
          üìß Kirim Email Log
        </button>
      </div>

      <!-- Toast Container -->
      <div id="toastContainer" class="position-fixed top-0 end-0 p-3"></div>
    </div>

    <script src="./assets/js/dashboard.js"></script>
  </body>
</html>
